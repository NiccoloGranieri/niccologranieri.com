<!DOCTYPE html>
<html class="no-js" lang="it">
    <head>
        <meta charset="utf-8" /> 
        <title>Niccolò Granieri - Digital Garden</title>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">

        <meta name="description" content="Digital Garden" />

        <link rel="stylesheet" href="css/styles.css" />
    </head>

    <body>
        <header>
            <nav class="header">
                <input class="menu-btn" type="checkbox" id="menu-btn" />
                <label class="menu-icon" for="menu-btn"><span class="nav-icon"></span></label>
                <ul class="menu">
                    <li><a class="elegant-link ListItem" href="/index.html"><-</a></li>
                </ul>
            </nav>
            <a class="lang-btn" style="opacity: 25%">NO-LANG</a>
        </header>
        <main class="text-page">
            <h1 class="top">Digital Garden</h1>
            <p>
                Questa pagina è un esperimento di "giardino digitale", un luogo dove raccoglierò esperienze,
                perloppiù digitali, che potrebbero essermi utili in futuro e chissà, forse potrebbero essere utili anche
                a voi! I post saranno in ordine cronologico (dal più al meno recente) e saranno scritti prevalentemente in
                inglese. Se più avanti ne sentirò la necessità, metterò dei filtri per poterli smistare per lingua.
            </p>
            <br>
            <p>
                This page is an experiment in a "digital garden," a place where I will collect experiences,
                mostly digital, that might be useful to me in the future and who knows, maybe they might be useful
                to you! The posts will be in chronological order (from most to least recent) and will be written mostly in
                English. If I feel the need for it later, I will put filters so that they can be sorted by language.
            </p>
            <hr>
            <p style="opacity: 45%; font-size: 75%;">Thursday, 4<sup>th</sup> January 2024</p>
            <h2 class="top" style="margin-top: 0px !important">Flippin' subtitles, dude!</h1>
            <p>
                I was asked to do a brief translation work for a family member. The original request was: "You speak english,
                right? Could you please watch this <i>entire DVD</i> and summarise it for me please?". Of course, I wasn't going to
                do that, so I said "Don't worry, I'll make sure you can watch the DVD with Italian subs". They were happy, I thought
                I could have leveraged YouTube for the automatic subs and DeepL for some quick translation, and with a bit
                of proof reading I would be done in no time. Turns out I was wrong.
            </p>
            <h4 class="top" style="margin-top: 0px !important">DeepL doesn't like timestamps</h1>
            <p>
                Feeding the raw .sbv file downloaded from YouTube yielded decent results on tiny videos (< 1 min) but
                started becoming problematic with longer vidoes. DeepL wasn't able to grasp the context of what was
                being said, because every sentence was interrupted by timestamps. I quickly realised that it would
                have taken a huge amount of time to manually correct all the mistakes, and thus this ideas was scrapped.
            </p>
            <h4 class="top" style="margin-top: 0px !important">YouTube's auto-translated subtitles</h1>
            <p>
                Even though I am confident in DeepL's translation capabilities, I decided to give YouTube's auto-translated
                subs a go. But here's the catch: as of today, it's not that easy to get a hold of them. Using 
                <a href="https://github.com/yt-dlp/yt-dlp">yt-dlp</a>'s subtitle download feature seemed to work fine, but at
                a closer inspection, the donwloaded subs were a mess. Final Cut Pro wasn't able to import them (I tried every
                possible format), and even trying to re-upload them to YouTube yielded several errors. While YouTube's
                auto-generated subtitles were extremely clean when downloaded from YouTube, they became a garbled mess when 
                downloaded via yt-dlp. I thought it was an auto-translation issue, but even the native ones suffered from the
                same issue.
            </p>
            <h4 class="top" style="margin-top: 0px !important">The working workflow</h1>
            <p>    
                As of today, January 2024, it seems to be possible to download auto-translated subtitles from YouTube only if
                captions have been published in the original video language first. In YouTube's own words: "Auto-translate is
                unavailable for auto-generated captions". However, in italian we say <i>"Fatta la legge, trovato l'inganno"</i>
                that literally translates to <i>"Once the law is made, the trick is found"</i>, but in this case it's more of
                a workaround. Here's the workflow:
            </p>
            <ol>
                <li>Upload the video to YouTube and wait for captions to be auto-generated.</li>
                <li>Download the auto-generated captions in the original language.</li>
                <li>Re-upload the captions on YouTube for the "English (video language)" subtitle track.
                    <br>(We are effectively uploading the auto-generated captions and telling YouTube these are custom captions of ours.)
                </li>
                <li>Create a new language subtitles track (in my case, italian)</li>
                <li>Edit the newly created subtitles track, and select Auto-translate</li>
            </ol>
            <p>    
                Doing so, you will be able to download the auto-translated subtitle track from YouTube, saving a clean .sbv file
                that can be converted in whichever format you need. In my case, I used FFmpeg to convert the .sbv file to .srt.
                <pre><code>ffmpeg -i input.sbv output.srt</code></pre>
            </p>
            <hr>
            <p style="opacity: 45%; font-size: 75%;">Monday, 7<sup>th</sup> August 2023</p>
            <h2 class="top" style="margin-top: 0px !important">If local tunnelling worked before, it should always work.</h1>
            <p>
                Yesterday, I spent the whole day trying to figure out why my local tunnelling wasn't working anymore. I did
                everything I used to do in the past, but nothing seemed to work. Because I am running beta software both on
                my iPad and on my iPhone, I started thinking that some new firewall setting was interfering: it wasn't.
            </p>
            <p>
                I also remembered that recently I spent my time tweaking my <i>FastGATE modem</i> settings, and 
                started thinking that I must have changed something that was preventing me from accessing my local server.
                Spoiler alert: I didn't.
            </p>
            <p>    
                After watching a couple of YouTube tutorials on "how to set up local tunnelling", and realising I was doing
                exactly what I needed to do, I noticed that one of the tutorials was using a Visual Studio Code addon called
                <i>Live Server</i>. From the interactions, I remembered that I used to use that addon too, but most recently 
                switched to Microsoft's <i>Live Preview</i> for no particular reason.
            </p>
            <p>
                Turns out it was a bug on Microsoft's addon, and switching did the trick. Too bad I lost a whole day on this.
            </p>
        </main>
        <footer>
            <p class="copyright">© 2023 Niccolò Granieri</p>
        </footer>
    </body>